@model HospitalManagementSystem.Models.Appointment

@{
    ViewData["Title"] = "Book Appointment";
}

@section PageBackground {
    <div class="patient-bg-fixed" aria-hidden="true"></div>
    <div class="patient-bg-overlay" aria-hidden="true"></div>
}


    <style>
        :root {
            --header-height: 70px;
            --footer-height: 64px;
            --primary: #5b8df9;
            --secondary: #7b5cfb;
            --accent: #17c0b5;
            --grad-main: linear-gradient(135deg,#5b8df9,#7b5cfb);
            --grad-accent: linear-gradient(90deg,#17c0b5,#3aa0ff);
            --panel-bg: linear-gradient(145deg,rgba(255,255,255,0.90),rgba(255,255,255,0.76));
            --border-soft: 1px solid rgba(120,140,170,0.28);
            --muted: #5c6672;
            --txt: #243041;
        }

        .patient-bg-fixed {
            position: fixed;
            top: var(--header-height);
            left: 0;
            right: 0;
            bottom: var(--footer-height);
            background-image: url('@Url.Content("~/images/dept.png")');
            background-size: cover;
            background-position: center;
            z-index: 0;
        }

        .patient-bg-overlay {
            position: fixed;
            top: var(--header-height);
            left: 0;
            right: 0;
            bottom: var(--footer-height);
            background: linear-gradient(to bottom,rgba(255,255,255,0.30),rgba(255,255,255,0.08));
            pointer-events: none;
            z-index: 1;
        }

        .appt-form-wrapper {
            position: relative;
            z-index: 2;
            max-width: 820px;
            margin: 0 auto;
            padding: 28px 6px 54px;
        }

        .form-panel {
            background: var(--panel-bg);
            border: var(--border-soft);
            border-radius: 30px;
            padding: 52px 54px 58px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 26px 70px rgba(40,70,140,0.24);
            position: relative;
            overflow: hidden;
            animation: fadeRise .55s ease;
        }

            .form-panel::before {
                content: "";
                position: absolute;
                width: 480px;
                height: 480px;
                top: -210px;
                left: -210px;
                background: radial-gradient(circle at 55% 55%,rgba(91,141,249,0.25),transparent 70%);
                pointer-events: none;
            }

        h1.form-title {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(90deg,#5b8df9,#7b5cfb);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin: 0 0 10px;
        }

        .subtitle {
            color: var(--muted);
            font-size: .92rem;
            margin-bottom: 34px;
        }

        .form-floating > label {
            font-weight: 500;
            letter-spacing: .35px;
        }

        .form-floating .form-control,
        .form-floating .form-select {
            background: rgba(255,255,255,0.78);
            border: 1px solid rgba(120,140,170,0.35);
            transition: border-color .25s, box-shadow .25s, background .35s;
        }

            .form-floating .form-control:focus,
            .form-floating .form-select:focus {
                border-color: var(--primary);
                box-shadow: 0 0 0 4px rgba(91,141,249,0.25);
                background: rgba(255,255,255,0.96);
            }

        .action-bar {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            margin-top: 8px;
        }

        .btn-accent {
            background: var(--grad-accent);
            color: #fff;
            border: none;
            border-radius: 16px;
            padding: 14px 34px;
            font-weight: 600;
            letter-spacing: .5px;
            box-shadow: 0 16px 38px rgba(56,160,255,0.36);
            transition: transform .25s, box-shadow .35s, filter .25s;
        }

            .btn-accent:hover {
                transform: translateY(-4px);
                box-shadow: 0 26px 56px rgba(56,160,255,0.40);
                filter: brightness(.97);
            }

        .btn-soft {
            background: linear-gradient(145deg,rgba(255,255,255,0.9),rgba(236,242,255,0.9));
            border: 1px solid rgba(120,140,170,0.35);
            color: var(--txt);
            border-radius: 16px;
            padding: 14px 32px;
            font-weight: 600;
            transition: transform .25s, background .25s;
        }

            .btn-soft:hover {
                background: linear-gradient(145deg,rgba(255,255,255,0.96),rgba(241,246,255,0.96));
                transform: translateY(-2px);
            }

        .inline-hint {
            font-size: .70rem;
            text-transform: uppercase;
            letter-spacing: .55px;
            font-weight: 600;
            color: #5b8df9;
            margin-bottom: 14px;
        }

        @@keyframes fadeRise {
            from {
                opacity: 0;
                transform: translateY(16px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @@media (max-width:760px) {
            .form-panel

        {
            padding: 44px 34px 52px;
        }

        }
    </style>

    <div class="appt-form-wrapper">
        <div class="form-panel">
            <h1 class="form-title">Book Appointment</h1>
            <div class="subtitle">Choose a doctor and preferred date &amp; time.</div>

            <form asp-action="CreateAppointment" method="post">
                @Html.AntiForgeryToken()
                <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

                <div class="form-floating mb-4">
                    <select asp-for="DoctorId" class="form-select" asp-items="@(new SelectList(ViewBag.Doctors, "DoctorId", "FullName"))">
                        <option value="">-- Select Doctor --</option>
                    </select>
                    <label for="DoctorId">Doctor</label>
                    <span asp-validation-for="DoctorId" class="text-danger"></span>
                </div>

                <div class="form-floating mb-4">
                    <input asp-for="AppointmentDate" type="datetime-local" class="form-control" placeholder="Appointment Date" />
                    <label asp-for="AppointmentDate"></label>
                    <span asp-validation-for="AppointmentDate" class="text-danger"></span>
                </div>

                <div class="action-bar">
                    <button type="submit" class="btn-accent"><i class="bi bi-check2-circle me-1"></i> Book</button>
                    <a asp-action="MyAppointments" class="btn-soft"><i class="bi bi-arrow-left me-1"></i> Cancel</a>
                </div>
            </form>
        </div>
    </div>